@model IEnumerable<Tuan06.Models.Product>
@{
    ViewData["Title"] = "Danh Sách Sản Phẩm";
}
<div class="product-model py-4">
    <div class="container">
        <h2 class="text-center mb-4 text-dark">SẢN PHẨM</h2>
        <div class="row">
            @foreach (var sp in Model)
            {
                <div class="col-md-3 col-sm-6 mb-4">
                    <div class="card shadow-sm border-0 rounded-3 h-100 text-center">

                        <a href="@Url.Action("Detail", "Product", new { id = sp.ProductID })" class="text-decoration-none text-dark d-block">
                            <img src="/@sp.ProductImage"
                                 alt="@sp.ProductName"
                                 class="card-img-top img-fluid mx-auto d-block"
                                 style="width:100%; height:250px; object-fit:cover; border-top-left-radius:.50rem; border-top-right-radius:.50rem;">
                        </a>

                        <div class="card-body d-flex flex-column justify-content-between">
                            <div>
                                <a href="@Url.Action("Detail", "Product", new { id = sp.ProductID })" class="text-decoration-none text-dark">
                                    <h5 class="card-title fw-semibold">@sp.ProductName</h5>
                                </a>
                                <div class="price-info my-2">
                                    <span class="text-muted text-decoration-line-through">
                                        @sp.Price.ToString("N0") ₫
                                    </span>
                                    @if (sp.DiscountPrice > 0 && sp.Price > 0)
                                    {
                                        <span class="badge bg-danger ms-2">
                                            -@((int)(100 - (sp.DiscountPrice / sp.Price * 100)))%
                                        </span>
                                    }
                                    <br />
                                    <span class="text-danger fw-bold fs-5">
                                        @sp.DiscountPrice.ToString("N0") ₫
                                    </span>
                                </div>
                            </div>
                            <div class="mt-3">
                                <form asp-controller="Cart" asp-action="Add" method="get">
                                    <input type="hidden" name="id" value="@sp.ProductID" />
                                    <input type="number"  name="qty" class="form-control form-control-sm w-25 text-center"
                                           value="1" min="1" />
                                    <button type="submit" class="btn btn-success">
                                        Thêm vào giỏ hàng
                                    </button>
                                </form>
                            </div>
                         </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
